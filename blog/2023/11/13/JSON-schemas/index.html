<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">How Cyclops utilizes JSON schema to deliver dynamical UI | Cyclops</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cyclops-ui.github.io/img/which-would-you-prefer.png"><meta data-rh="true" name="twitter:image" content="https://cyclops-ui.github.io/img/which-would-you-prefer.png"><meta data-rh="true" property="og:url" content="https://cyclops-ui.github.io/blog/2023/11/13/JSON-schemas"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="How Cyclops utilizes JSON schema to deliver dynamical UI | Cyclops"><meta data-rh="true" name="description" content="Cyclops turns complicated YAML manifests into simple and structured UIs where developers can click away their Kubernetes application configuration."><meta data-rh="true" property="og:description" content="Cyclops turns complicated YAML manifests into simple and structured UIs where developers can click away their Kubernetes application configuration."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-11-13T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/petar-cvit"><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://cyclops-ui.github.io/blog/2023/11/13/JSON-schemas"><link data-rh="true" rel="alternate" href="https://cyclops-ui.github.io/blog/2023/11/13/JSON-schemas" hreflang="en"><link data-rh="true" rel="alternate" href="https://cyclops-ui.github.io/blog/2023/11/13/JSON-schemas" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Cyclops RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Cyclops Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MNT2DFSGCM"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-MNT2DFSGCM",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.c1477046.css">
<script src="/assets/js/runtime~main.49134fa4.js" defer="defer"></script>
<script src="/assets/js/main.8823fc59.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#10357A;color:#FFF" role="banner"><div class="content_knG7 announcementBarContent_xLdY">⭐ Help us shine brighter by showing your support - give us a star on <a href="https://github.com/cyclops-ui/cyclops">GitHub</a>! ⭐</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Cyclops logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="Cyclops logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Cyclops</b></a><a class="navbar__item navbar__link" href="/docs/about/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://www.linkedin.com/company/cyclops-ui" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link"></a><a href="https://github.com/cyclops-ui/cyclops" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><a href="https://discord.com/invite/8ErnK3qDb3" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link"></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/12/08/five-kubernetes-tools">Five Kubernetes Development Tools for Efficient Cluster Management</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2023/11/13/JSON-schemas">How Cyclops utilizes JSON schema to deliver dynamical UI</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/welcome">Welcome</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Cyclops turns complicated YAML manifests into simple and structured UIs where developers can click away their Kubernetes application configuration."><header><h1 class="title_f1Hy" itemprop="headline">How Cyclops utilizes JSON schema to deliver dynamical UI</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-11-13T00:00:00.000Z" itemprop="datePublished">November 13, 2023</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/petar-cvit" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/petar-cvit.png" alt="Petar Cvitanović" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/petar-cvit" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Petar Cvitanović</span></a></div><small class="avatar__subtitle" itemprop="description">Cyclops CTO</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>Cyclops turns complicated YAML manifests into simple and structured UIs where developers can click away their Kubernetes application configuration.
”Great! But how does it know how to render this UI? Should I implement a UI form each time I need a new set of fields to configure? I don’t know React! I don’t know frontend!“</p>
<p>This blog post should cure your anxiety about implementing a UI for each type of application and explain how Cyclops knows what to render so you can deploy to your K8s cluster carefree.</p>
<p>To better understand how Cyclops renders the UI, we will scratch the surface of Helm, which Cyclops uses as its templating engine.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-bit-about-helm">A bit about Helm<a href="#a-bit-about-helm" class="hash-link" aria-label="Direct link to A bit about Helm" title="Direct link to A bit about Helm">​</a></h2>
<p>Helm is a Kubernetes package manager that helps deploy and manage Kubernetes resources by packing them into charts. It also has a templating engine that allows developers to configure their apps depending on the specific values injected into the helm template.</p>
<p>The usual Helm chart structure is as follows:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">├── Chart.yaml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">├── templates</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│   ├── deployment.yaml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│   └── service.yaml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">├── values.schema.json</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">└── values.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>A few other Helm chart parts are left out on purpose since they are not tangible to the rest of the blog. You can read more about each of those in <a href="https://helm.sh/docs/topics/charts/" target="_blank" rel="noopener noreferrer">Helm’s official documentation</a></p>
</blockquote>
<ul>
<li><code>Chart.yaml</code> - A YAML file containing information about the chart (like name, version…)</li>
<li><code>templates</code> - A directory of templates that, when combined with values, will generate valid Kubernetes manifest files</li>
<li><code>values.yaml</code> - The default configuration values for this chart</li>
<li><code>values.schema.json</code> - A JSON Schema for imposing a structure on the <code>values.yaml</code> file</li>
</ul>
<p>When using Helm, you can change your <code>values.yaml</code> however you see fit for your application. The problem is that you can change them <strong>however</strong> you like, which allows you to misconfigure some parts of your application because you misspelled a field or messed up indentation in the <code>values.yaml</code>.</p>
<p>Here is where <a href="https://json-schema.org" target="_blank" rel="noopener noreferrer">JSON schema</a> from the <code>values.schema.json</code> comes in. It will define which fields you should set and even to which values (e.g., you can specify that a field called replicas can’t be set to lower than 0). Helm won’t let you render a Kubernetes manifest with values that don’t comply with the schema. There is an example of such schema later in the blog, but you can also check it out on <a href="https://helm.sh/docs/topics/charts/#schema-files" target="_blank" rel="noopener noreferrer">Helms official docs</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="helm-values-schema-and-cyclops-ui">Helm values schema and Cyclops UI<a href="#helm-values-schema-and-cyclops-ui" class="hash-link" aria-label="Direct link to Helm values schema and Cyclops UI" title="Direct link to Helm values schema and Cyclops UI">​</a></h2>
<p>Now that the schema&#x27;s purpose in a Helm chart is explained let’s get into how Cyclops uses it.</p>
<p>Since the primary purpose of the values schema is to describe what the Helm chart needs to render all the Kubernetes resources, we naturally decided to use it for rendering the UI. On the first iterations of Cyclops, we implemented a solution where users can define those fields in the UI, but why reinvent the wheel when Helm already provided a way to specify this?</p>
<p>Cyclops controller reads the Helm chart and values schema. Then, it recursively traverses through all the fields in the schema and renders the field based on the field specification. It knows how to render a field based on the field type (<code>string</code>, <code>boolean</code>, <code>object</code>, <code>array</code>...), description of the field, field rules (e.g., minimum or maximum value), and many more.</p>
<p><img loading="lazy" alt="Untitled" src="/assets/images/JSON-to-UI-bbad50b21fb22fc8fcbeb19b83d053cb.png" width="3280" height="1234" class="img_ev3q"></p>
<p>Now that the UI is rendered, a user of Cyclops can click through the form and fill in those fields. Thanks to the schema, values entered by a developer will now always conform to the schema since the UI won’t let you specify any fields (e.g., allow you typos in field names) or set the number of replicas to <code>three</code> instead of <code>3</code>. This is an exaggerated example, but you can probably see the point. The UI will take care of validating your input, and you will have clear guidelines on how to configure your service.</p>
<p>Once values are entered and saved in the UI, they are passed to the Helm templating engine and the templates from the <code>/templates</code> folder. This results in all Kubernetes resources being configured for the needs of each team/developer without getting into specific implementation details of each resource.</p>
<p><img loading="lazy" alt="Untitled" src="/assets/images/UI-to-K8s-caa869f6d4e68f2a961c636ef5ccb882.png" width="2392" height="1770" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="final-thoughts">Final thoughts<a href="#final-thoughts" class="hash-link" aria-label="Direct link to Final thoughts" title="Direct link to Final thoughts">​</a></h2>
<p>Hope this blog post helped you understand how the rendering part of Cyclops works and demystified the whole project. We briefly touched on <a href="https://helm.sh/docs/" target="_blank" rel="noopener noreferrer">Helm</a> and <a href="https://json-schema.org/" target="_blank" rel="noopener noreferrer">JSON schema</a>, but both are larger pieces of software that we can&#x27;t describe in such a short blog post, so we encourage you to check their documentation.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2023/12/08/five-kubernetes-tools"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Five Kubernetes Development Tools for Efficient Cluster Management</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/welcome"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Welcome</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#a-bit-about-helm" class="table-of-contents__link toc-highlight">A bit about Helm</a></li><li><a href="#helm-values-schema-and-cyclops-ui" class="table-of-contents__link toc-highlight">Helm values schema and Cyclops UI</a></li><li><a href="#final-thoughts" class="table-of-contents__link toc-highlight">Final thoughts</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation/prerequisites">Installation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/8ErnK3qDb3" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/cyclops-ui/cyclops" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.google.com/forms/d/e/1FAIpQLSfm9sSsmqJYsofteSrGigWMW9eOgSjoinHwjsvtjX6wOcAv9w/viewform" target="_blank" rel="noopener noreferrer" class="footer__link-item">Schedule a demo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/cyclops-ui/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item">info@cyclops-ui.com</li></ul></div></div></div></footer></div>
</body>
</html>