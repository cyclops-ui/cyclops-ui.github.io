"use strict";(self.webpackChunkcyclops_ui_docs=self.webpackChunkcyclops_ui_docs||[]).push([[4672],{6345:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>r});var s=n(5893),o=n(1151);const i={},d="Helm chart dependencies",a={id:"templates/dependencies",title:"Helm chart dependencies",description:"This part will go over how Cyclops implements Helm chart dependencies. You can find out more about chart dependencies on Helm docs.",source:"@site/docs/templates/dependencies.md",sourceDirName:"templates",slug:"/templates/dependencies",permalink:"/docs/templates/dependencies",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Validation",permalink:"/docs/templates/validations"},next:{title:"Roadmap",permalink:"/docs/roadmap/"}},c={},r=[{value:"Demo time \u2692\ufe0f",id:"demo-time-\ufe0f",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"helm-chart-dependencies",children:"Helm chart dependencies"}),"\n",(0,s.jsxs)(t.p,{children:["This part will go over how Cyclops implements Helm chart dependencies. You can find out more about chart dependencies on ",(0,s.jsx)(t.a,{href:"https://helm.sh/docs/helm/helm_dependency/",children:"Helm docs"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"Dependencies allow us to reference another Helm chart and use it in the context of our application without having to configure multiple K8s resources separately."}),"\n",(0,s.jsx)(t.p,{children:"For instance, you might want to deploy an application that uses Redis as its cache storage, but you don't want to add all of those resources for a Redis deployment into your template. You can simply add an existing Redis Helm chart as a dependency to your chart and get your Redis up and running without the hassle of copy-pasting resources."}),"\n",(0,s.jsxs)(t.p,{children:["Since Helm supports dependencies, it makes sense that Cyclops also supports them. You can reference dependencies in the ",(0,s.jsx)(t.code,{children:"Chart.yaml"})," of your root template if you want to use dependencies. Refer to Helm docs for more info on how to do it, but here is an ",(0,s.jsx)(t.a,{href:"https://github.com/cyclops-ui/templates/blob/main/dependencies-demo/Chart.yaml",children:"example"})," of how to do it."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:'apiVersion: v1\nname: application\nversion: 0.0.0\ndependencies:\n  - name: application\n    version: "0.3.0"\n    repository: "https://petar-cvit.github.io"\n'})}),"\n",(0,s.jsx)(t.p,{children:"Cyclops will render a new object in your UI for each dependency you specify. This object will be named after the dependency, and its fields will be rendered based on its JSON schema. It does that recursively for all dependencies."}),"\n",(0,s.jsx)(t.h2,{id:"demo-time-\ufe0f",children:"Demo time \u2692\ufe0f"}),"\n",(0,s.jsxs)(t.p,{children:["In our templates repository you can find the ",(0,s.jsx)(t.a,{href:"https://github.com/cyclops-ui/templates/tree/main/dependencies-demo",children:"dependencies-demo template"}),". This template will give you an idea of how to create dependencies of your own and we will use this template for this demo."]}),"\n",(0,s.jsxs)(t.p,{children:["First, go to the ",(0,s.jsx)(t.em,{children:"Templates"})," tab and add this template to your templates store."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:"Name: dependencies-demo\nRepository URL: https://github.com/cyclops-ui/templates\nPath: dependencies-demo\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Once you added this template to your collection, go to the ",(0,s.jsx)(t.em,{children:"Modules"})," tab and click ",(0,s.jsx)(t.em,{children:"Add Module"}),". Choose your new template ",(0,s.jsx)(t.code,{children:"dependencies-demo"}),". You should get a screen similar to the one in the picture below. All the fields from the template have been rendered as expected and alongside them on an additional object -- ",(0,s.jsx)(t.code,{children:"application"}),"."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Dependencies rendering",src:n(1289).Z+"",width:"3024",height:"1890"})}),"\n",(0,s.jsxs)(t.p,{children:["It is called ",(0,s.jsx)(t.code,{children:"application"})," since it is the name of the dependency we pulled. All the nested fields inside it are rendered based on dependency schema, so be aware that your dependencies must also have a schema defined. It is also automatically populated with default fields from the dependent charts ",(0,s.jsx)(t.code,{children:"values.yaml"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["Here is the link to the GitHub repo where the dependency chart is stored ",(0,s.jsx)(t.a,{href:"https://github.com/petar-cvit/petar-cvit.github.io/tree/gh-pages",children:"https://github.com/petar-cvit/petar-cvit.github.io/tree/gh-pages"})]}),"\n",(0,s.jsxs)(t.p,{children:["Once you input all the fields and hit the ",(0,s.jsx)(t.code,{children:"save"})," button, all resources from your root template and all its dependencies get deployed and shown on your Module detail page."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Dependencies Module Overview",src:n(6235).Z+"",width:"3024",height:"1882"})}),"\n",(0,s.jsxs)(t.admonition,{type:"info",children:[(0,s.jsxs)(t.p,{children:["Version ",(0,s.jsx)(t.code,{children:"v0.0.8-alpha"})," does not support ",(0,s.jsx)(t.code,{children:"alias"})," and ",(0,s.jsx)(t.code,{children:"import-values"}),"."]}),(0,s.jsxs)(t.p,{children:["At the moment, when you reference a dependency, it is automatically included in your chart. ",(0,s.jsx)(t.code,{children:"condition"})," and ",(0,s.jsx)(t.code,{children:"tags"})," properties are not yet supported."]})]})]})}function p(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},1289:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/dependencies-form-08a123e2a62a7888c9ac6e8bfacfd17d.png"},6235:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/dependencies-resources-f8df9b86903185eb74668abcb95165be.png"},1151:(e,t,n)=>{n.d(t,{Z:()=>a,a:()=>d});var s=n(7294);const o={},i=s.createContext(o);function d(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);